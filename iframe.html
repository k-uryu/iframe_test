<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Iframe Page</title>
</head>

<body>

<h1>Iframe Page</h1>

<div id="test"></div>

<button id="postMessage">postMessage</button>

<script>
  document.getElementById('test').innerHTML = (window == window.parent ? 'default' : 'iframe');

  console.log('href: ' + location.href);
  console.log('referrer: ' + document.referrer);
  console.log('cookie: ' + document.cookie);

  document.getElementById('postMessage').addEventListener('click', function (e) {
    window.parent.postMessage('test', document.referrer);
  });
  window.addEventListener('message', function (event) {
    console.log('test from iframe.');
    location.href = location.href + '?test=hoge';
  });
</script>

</body>
</html>
